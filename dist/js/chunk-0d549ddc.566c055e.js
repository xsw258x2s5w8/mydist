(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d549ddc","chunk-196aef8f","chunk-2d0ba8d9"],{"1dca":function(e,t,a){},3864:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{staticStyle:{height:"100%"},attrs:{loading:e.cardLoading,bordered:!1}},[t("a-spin",{attrs:{spinning:e.loading}},[t("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"输入机构名称查询...",enterButton:""},on:{search:e.handleSearch}}),t("a-tree",{attrs:{showLine:"",checkStrictly:"",expandedKeys:e.expandedKeys,selectedKeys:e.selectedKeys,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeDataSource},on:{"update:expandedKeys":function(t){e.expandedKeys=t},"update:expanded-keys":function(t){e.expandedKeys=t},select:e.handleTreeSelect}})],1)],1)},n=[],i=a("4ec3"),o={name:"AddressListLeft",props:["value"],data:function(){return{cardLoading:!0,loading:!1,treeDataSource:[],selectedKeys:[],expandedKeys:[]}},created:function(){this.queryTreeData()},methods:{queryTreeData:function(e){this.commonRequestThen(Object(i["D"])({departName:e||void 0}))},handleSearch:function(e){e?this.commonRequestThen(Object(i["U"])({keyWord:e})):this.queryTreeData()},handleTreeSelect:function(e,t){if(e.length>0){if(this.selectedKeys[0]!==e[0]){this.selectedKeys=[e[0]];var a=t.node.dataRef.orgCode;this.emitInput(a)}}else this.selectedKeys=[],this.emitInput("")},emitInput:function(e){this.$emit("input",e)},commonRequestThen:function(e){var t=this;this.loading=!0,e.then((function(e){e.success?t.treeDataSource=e.result:t.$message.warn(e.message)})).finally((function(){t.loading=!1,t.cardLoading=!1}))}}},s=o,c=a("2877"),l=Object(c["a"])(s,r,n,!1,null,"172d9918",null);t["default"]=l.exports},"5ea5":function(e,t,a){"use strict";a("1dca")},6515:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-row",{attrs:{type:"flex",gutter:16}},[t("a-col",{attrs:{md:5,sm:24}},[t("address-list-left",{model:{value:e.currentOrgCode,callback:function(t){e.currentOrgCode=t},expression:"currentOrgCode"}})],1),t("a-col",{attrs:{md:19,sm:24}},[t("address-list-right",{model:{value:e.currentOrgCode,callback:function(t){e.currentOrgCode=t},expression:"currentOrgCode"}})],1)],1)},n=[],i=a("3864"),o=a("cb6b"),s={name:"AddressList",components:{AddressListLeft:i["default"],AddressListRight:o["default"]},data:function(){return{description:"通讯录页面",currentOrgCode:""}},methods:{}},c=s,l=(a("ef1c"),a("2877")),u=Object(l["a"])(c,r,n,!1,null,"0f56c3a6",null);t["default"]=u.exports},"66c5":function(e,t,a){"use strict";a("66f7")},"66f7":function(e,t,a){},c30f:function(e,t,a){},cb6b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{staticClass:"j-address-list-right-card-box",attrs:{loading:e.cardLoading,bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form-model",{attrs:{layout:"inline",model:e.queryParam}},[t("a-row",{attrs:{gutter:10}},[t("a-col",{attrs:{md:6,sm:12}},[t("a-form-model-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"姓名",prop:"realname"}},[t("a-input",{attrs:{placeholder:"请输入姓名查询"},model:{value:e.queryParam.realname,callback:function(t){e.$set(e.queryParam,"realname",t)},expression:"queryParam.realname"}})],1)],1),t("a-col",{attrs:{md:6,sm:12}},[t("a-form-model-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"工号",prop:"workNo"}},[t("a-input",{attrs:{placeholder:"请输入工号查询"},model:{value:e.queryParam.workNo,callback:function(t){e.$set(e.queryParam,"workNo",t)},expression:"queryParam.workNo"}})],1)],1),t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),t("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"userId",pagination:e.ipagination,columns:e.columns,dataSource:e.dataSource,loading:e.loading},on:{change:e.handleTableChange}})],1)},n=[],i=a("0fea"),o=a("b65a");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t=d(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){var t=f(e,"string");return"symbol"===s(t)?t:String(t)}function f(e,t){if("object"!==s(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p={name:"AddressListRight",mixins:[o["a"]],components:{},props:["value"],data:function(){var e=this;return{description:"用户信息",cardLoading:!0,positionInfo:{},columns:[{title:"#",key:"rowIndex",dataIndex:"",width:60,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"姓名",width:"15%",align:"center",dataIndex:"realname"},{title:"工号",width:"15%",align:"center",dataIndex:"workNo"},{title:"部门",width:"20%",align:"center",dataIndex:"departName"},{title:"职务",width:"15%",align:"center",dataIndex:"post",customRender:function(t){return(t||"").split(",").map((function(t){return e.positionInfo[t]?e.positionInfo[t]:t})).join(",")}},{title:"手机",width:"15%",align:"center",dataIndex:"phone"},{title:"公司邮箱",width:"15%",align:"center",dataIndex:"email"}],url:{list:"/sys/user/queryByOrgCodeForAddressList",listByPosition:"/sys/position/list"}}},watch:{value:{immediate:!0,handler:function(e){this.dataSource=[],this.loadData(1,e)}}},created:function(){this.queryPositionInfo()},methods:{loadData:function(e,t){var a=this;this.loading=!0,1===e&&(this.ipagination.current=1),t?Object(i["c"])(this.url.list,l({orgCode:t},this.getQueryParams())).then((function(e){e.success&&(a.dataSource=e.result.records,a.ipagination.total=e.result.total)})).finally((function(){a.loading=!1,a.cardLoading=!1})):Object(i["c"])(this.url.list,l({},this.getQueryParams())).then((function(e){e.success&&(a.dataSource=e.result.records,a.ipagination.total=e.result.total)})).finally((function(){a.loading=!1,a.cardLoading=!1}))},searchQuery:function(){this.loadData(1,this.value)},searchReset:function(){this.queryParam={},this.loadData(1,this.value)},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=e,this.loadData(null,this.value)},queryPositionInfo:function(){var e=this;Object(i["c"])(this.url.listByPosition,{pageSize:99999}).then((function(t){if(t.success){var a={};t.result.records.forEach((function(e){a[e["code"]]=e["name"]})),e.positionInfo=a}}))}}},h=p,m=(a("5ea5"),a("66c5"),a("2877")),y=Object(m["a"])(h,r,n,!1,null,"8c414c3e",null);t["default"]=y.exports},ef1c:function(e,t,a){"use strict";a("c30f")}}]);